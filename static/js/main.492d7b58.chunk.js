(this["webpackJsonpjeloop-visualizer"]=this["webpackJsonpjeloop-visualizer"]||[]).push([[0],{17:function(e,n,t){e.exports=t.p+"static/media/logo.1511dced.png"},18:function(e,n,t){e.exports=t(54)},48:function(e,n,t){},50:function(e,n,t){},54:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),l=t(15),r=t.n(l),c=t(5),s=t(6),i=t(8),u=t(7),p=t(16),d=t(1),m=t.n(d),v=(t(23),t(24),t(25),t(26),t(27),t(9)),f=t(17),h=t.n(f),g=(t(48),function(e){var n=e.closePopup;return o.a.createElement("div",{className:"popup"},o.a.createElement("div",{className:"popup__content popup__welcome"},o.a.createElement("div",null,o.a.createElement("h1",{className:"title"},"Welcome to JELoop Visualizer!"),o.a.createElement("h2",{className:"description"},"This application visualizes how JavaScript Event Loop works.")),o.a.createElement("div",{className:"logo"},o.a.createElement("img",{src:h.a,alt:"logo"})),o.a.createElement("h3",{className:"source-code"},"If you want to see the source code for this application, check out my",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/kamronbekshodmonov/JELoop-Visualizer"}," ","github"),"."),o.a.createElement("div",{onClick:n,className:"close"},"\u2715")))}),E=function(e){Object(i.a)(t,e);var n=Object(u.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).typos=o.a.createRef(),a}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.typos.current,n=[],t="";for(var a in t="Check format error:\n\n",this.props.JSHINT.errors){var o=this.props.JSHINT.errors[a];null!=o?(t=o.line+"["+o.character+"]: "+o.reason+"\n",n.unshift(t)):(t="Check format unknown error:\n",n.push(t))}n.forEach((function(n){var t="\n        <p>".concat(n,"</p>\n      ");e.insertAdjacentHTML("afterbegin",t)}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"popup"},o.a.createElement("div",{className:"popup__content popup__alert"},o.a.createElement("h1",{className:"title"},"Alert!"),o.a.createElement("h2",{className:"description"},"Please, make sure you don't have any typos."),o.a.createElement("div",{ref:this.typos,className:"typos"}),o.a.createElement("div",{onClick:this.props.closePopup,className:"close"},"\u2715")))}}]),t}(o.a.Component);var y=function(e,n){var t=e(n);return t||t},k=function(e){var n=t(49).parseScript(e,{tokens:!0,range:!0,loc:!0});return n.body},b=function(e,n,t){e.forEach((function(e){e.expression?n.push(e):"FunctionDeclaration"===e.type?t.push(e):"VariableDeclaration"===e.type&&e.declarations.forEach((function(e){"FunctionExpression"===e.init.type&&t.push(e)}))}))},S=function(e,n){e.forEach((function(e){"FunctionDeclaration"===e.type?n.push({line:e,type:"FunctionDeclaration",value:e.id.name,loc:e.loc,range:e.range}):"VariableDeclarator"===e.type&&n.push({line:e,type:"VariableDeclarator",value:e.id.name,loc:e.loc,range:e.range})}))},N=t(2),_=1;var x=function(e,n,t){e.forEach((function(e){var a=Object(N.a)(t);if(e.expression.callee){if("MemberExpression"===e.expression.callee.type){var o=[];e.expression.arguments[0].value?o.push(e.expression.arguments[0].value):e.expression.arguments[0].arguments&&e.expression.arguments[0].arguments.forEach((function(e){o.push(e.value)})),n.push({type:"console.log",value:o,loc:e.loc,range:e.range,level:_}),n.push({type:"remove"})}else if("Identifier"===e.expression.callee.type)if("setTimeout"===e.expression.callee.name)e.expression.arguments.forEach((function(t){"Literal"===t.type&&(n.push({line:e,type:"setTimeout",value:t.value,loc:e.loc,range:e.range,level:_}),n.push({type:"remove"}))}));else{n.push({type:"functionInvocation",value:e.expression.callee.name,loc:e.loc,range:e.range,level:_});var l=_;a.forEach((function(t){e.expression.callee.name===t.value&&t.line.body.body.forEach((function(e){_+=1,function e(n,t,a){if(n.expression.callee){if("MemberExpression"===n.expression.callee.type){var o=[];n.expression.arguments[0].value?o.push(n.expression.arguments[0].value):n.expression.arguments[0].arguments&&n.expression.arguments[0].arguments.forEach((function(e){o.push(e.value)})),t.push({type:"console.log",value:o,loc:n.loc,range:n.range,level:_}),t.push({type:"remove"})}else if("Identifier"===n.expression.callee.type)if("setTimeout"===n.expression.callee.name)n.expression.arguments.forEach((function(e){"Literal"===e.type&&(t.push({line:n,type:"setTimeout",value:e.value,loc:n.loc,range:n.range,level:_}),t.push({type:"remove"}))}));else{t.push({type:"functionInvocation",value:n.expression.callee.name,loc:n.loc,range:n.range,level:_});var l=_;a.forEach((function(o){n.expression.callee.name===o.value&&o.line.body.body.forEach((function(n){_+=1,e(n,t,a),_=l}))})),_=l,t.push({type:"endInvocation",loc:n.loc,range:n.range})}}else"FunctionDeclaration"===n.type?a.push({line:n,type:"FunctionDeclaration",value:n.id.name,loc:n.loc,range:n.range}):"VariableDeclarator"===n.type&&a.push({line:n,type:"VariableDeclarator",value:n.id.name,loc:n.loc,range:n.range})}(e,n,a),_=l}))})),_=l,n.push({type:"endInvocation",loc:e.loc,range:e.range}),a=Object(N.a)(t)}}else"FunctionDeclaration"===e.type?a.push({line:e,type:"FunctionDeclaration",value:e.id.name,loc:e.loc,range:e.range}):"VariableDeclarator"===e.type&&a.push({line:e,type:"VariableDeclarator",value:e.id.name,loc:e.loc,range:e.range})}))};var w=function(e,n,t){if(e.loc){var a=e.loc.start.line-1,o=e.loc.end.line-1;if(a!==o){var l=[];if(o-a===1){var r=n.getLine(a);l.push(r),r=n.getLine(o),l.push(r)}else if(o-a>1){var c=o-a,s=n.getLine(a);l.push(s);for(var i=1;i<c;i++){var u=n.getLine(a+i);l.push(u)}s=n.getLine(o),l.push(s)}var p="";l.forEach((function(e){p+="<p>".concat(e,"</p>")})),t.insertAdjacentHTML("afterbegin",'\n          <div class="event__text">\n            '.concat(p,"\n          </div>"))}else if(a===o){var d=n.getLine(a),m='\n        <div class="event__text">\n          <p>'.concat(d,"</p>\n        </div>");t.insertAdjacentHTML("afterbegin",m)}}};var T=function(e,n){if(e.loc){var t=function(e,t){e.forEach((function(e){var a=m.a.Pos(t,e.start),o=m.a.Pos(t,e.end);m.a.Pos();n.markText(a,o,{css:"background-color: rgba(224, 224, 224, 0.2);"})}))},a=e.loc.start.line-1,o=e.loc.end.line-1,l=n.getLineTokens(a,!0),r=n.getLineTokens(o,!0);if(o-a===1)t(l,a),t(r,o);else if(o-a>1){var c=o-a;t(l,a);for(var s=1;s<c;s++){var i=e.loc.start.line+s-1;t(n.getLineTokens(i,!0),i)}t(r,o)}else a===o&&t(l,a)}};var L=function(e,n){if(e.loc){var t=function(e,t){e.forEach((function(e){var a=m.a.Pos(t,e.start),o=m.a.Pos(t,e.end);m.a.Pos();n.markText(a,o,{css:"background-color: transparent"})}))},a=e.loc.start.line-1,o=e.loc.end.line-1,l=n.getLineTokens(a,!0),r=n.getLineTokens(o,!0);if(o-a===1)t(l,a),t(r,o);else if(o-a>1){var c=o-a;t(l,a);for(var s=1;s<c;s++){var i=e.loc.start.line+s-1;t(n.getLineTokens(i,!0),i)}t(r,o)}else a===o&&t(l,a)}};var C=function e(n,t,a,o,l,r,c,s,i,u,p){var d=!1,m=function(e){if(l[l.length-1]===e){d=!0;var n=Object(N.a)(r);a=[],o=[],l=[],r=n,s=[]}};l.forEach((function(e,a){setTimeout((function(){var o=i.children[0],r=l[a-1];"console.log"===e.type||"functionInvocation"===e.type||"setTimeout"===e.type?(w(e,n,i),T(e,n)):"remove"===e.type?(o.classList.add("remove-content"),setTimeout((function(){L(r,n),o.remove(),"setTimeout"===r.type?(w(r,n,u),c.length>0&&m(e),setTimeout((function(){u.children[u.children.length-1].classList.add("remove-content"),setTimeout((function(){u.children[u.children.length-1].remove(),w(r,n,p),setTimeout((function(){c.push(r),m(e)}),t)}),t-120)}),r.value+t-100)):m(e)}),t-120)):"endInvocation"===e.type&&(o.classList.add("remove-content"),setTimeout((function(){L(l[a],n),o.remove(),m(e)}),t-120))}),t*a)})),setInterval((function(){d&&(p.children[0]&&0===l.length&&0!==c.length&&(p.children[p.children.length-1].classList.add("remove-content"),setTimeout((function(){p.children[p.children.length-1].remove()}),t-120),c[0].line.expression.arguments[0].body.body.forEach((function(e){s.push(e)})),c.shift(),b(s,a,o),S(o,r),x(a,l,r),setTimeout((function(){e(n,t,a,o,l,r,c,s,i,u,p)}),t-120),d=!1))}),100)};var P=function(e,n){for(var t=0;t<e;t++){var a=n.getLineTokens(t,!0),o=0;a.length>0&&(o=a[a.length-1].end);var l=m.a.Pos(t,0),r=m.a.Pos(t,o);m.a.Pos();n.markText(l,r,{css:"background-color: transparent"})}};t(50),t(51),t(52),t(53);window.JSHINT=v.JSHINT;var A=function(e){Object(i.a)(t,e);var n=Object(u.a)(t);function t(){var e;return Object(c.a)(this,t),(e=n.call(this)).clearState=function(){var n=e.editor.current.editor,t=e.callStackPlayground.current,a=e.webApiPlayground.current,o=e.callbackQueuePlayground.current;e.setState({unsortedCallStack:[],unsortedFunction:[],isCallStack:[],isFunction:[],isWebApi:[],isCallbackQueue:[]}),t.innerHTML="",a.innerHTML="",o.innerHTML="",P(n.doc.size,n);for(var l=window.setTimeout((function(){}),0);l--;)window.clearTimeout(l)},e.onClick=function(){var n=e.state,t=n.value,a=n.unsortedCallStack,o=n.unsortedFunction,l=n.isCallStack,r=n.isFunction,c=n.isWebApi,s=n.isCallbackQueue,i=n.speed,u=e.editor.current.editor,p=e.callStackPlayground.current,d=e.webApiPlayground.current,m=e.callbackQueuePlayground.current;e.clearState();var f=800;"Very Fast"===i?f=600:"Fast"===i?f=800:"Average"===i?f=1100:"Slow"===i?f=1500:"Very Slow"===i&&(f=3e3),document.documentElement.style.setProperty("--interval","".concat(f-100,"ms"));var h=y(v.JSHINT,t);if(h){var g=k(t);b(g,a,o),S(o,r),x(a,l,r),C(u,f,a,o,l,r,c,s,p,d,m)}else h||e.setState({popupAlert:!0})},e.clearPlayground=function(){e.setState({value:""}),e.clearState()},e.dropdownToggleSpeed=function(){var n=e.dropdownSpeed.current,t=e.state.isSpeedOpen;t?t&&(n.style.display="none",n.parentNode.classList.remove("dropdown__active"),e.setState({isSpeedOpen:!1})):(n.style.display="block",n.parentNode.classList.add("dropdown__active"),e.setState({isSpeedOpen:!0}));var a=Array.from(n.children[0].children);document.documentElement.addEventListener("click",(function t(o){var l=!0;a.forEach((function(e){o.target===e&&(l=!1)})),o.target===n.parentNode&&l&&document.documentElement.removeEventListener("click",t),o.target!==n.parentNode&&l&&(n.style.display="none",n.parentNode.classList.remove("dropdown__active"),e.setState({isSpeedOpen:!1}),document.documentElement.removeEventListener("click",t))}))},e.dropdownToggleExample=function(){var n=e.dropdownExample.current,t=e.state.isExampleOpen;t?t&&(n.style.display="none",n.parentNode.classList.remove("dropdown__active"),e.setState({isExampleOpen:!1})):(n.style.display="block",n.parentNode.classList.add("dropdown__active"),e.setState({isExampleOpen:!0}));var a=Array.from(n.children[0].children);document.documentElement.addEventListener("click",(function t(o){var l=!0;a.forEach((function(e){o.target===e&&(l=!1)})),o.target===n.parentNode&&l&&document.documentElement.removeEventListener("click",t),o.target!==n.parentNode&&l&&(n.style.display="none",n.parentNode.classList.remove("dropdown__active"),e.setState({isExampleOpen:!1}),document.documentElement.removeEventListener("click",t))}))},e.speedVeryFast=function(){e.setState({speed:"Very Fast"})},e.speedFast=function(){e.setState({speed:"Fast"})},e.speedAverage=function(){e.setState({speed:"Average"})},e.speedSlow=function(){e.setState({speed:"Slow"})},e.verySlow=function(){e.setState({speed:"Very Slow"})},e.example1=function(){e.setState({example:1});e.setState({value:'function three() {\n  console.log("three");\n\n  setTimeout(function () {\n    console.log("last");\n  }, 1000);\n}\n\nfunction two() {\n  console.log("two");\n  three();\n}\n\nfunction one() {\n  console.log("one");\n  two();\n}\n\none();'}),e.clearState()},e.example2=function(){e.setState({example:2});e.setState({value:'setTimeout(function () {\n  console.log("hello");\n}, 1000);\n\nfunction a() {\n  console.log("a");\n\n  function b() {\n    console.log("b");\n  }\n\n  b();\n}\n\nconsole.log("hey");\n\nsetTimeout(function () {\n  console.log("setTimeout");\n}, 1600);\n\na();'}),e.clearState()},e.example3=function(){e.setState({example:3});e.setState({value:'console.log("one");\nconsole.log("two");\n\nfunction noInvocation() {\n  console.log("no invocation");\n}\n\nfunction three() {\n  console.log("three");\n\n  function block() {\n    console.log("block");\n  }\n}\n\nthree();\n\nconsole.log("last");\n\nblock();'}),e.clearState()},e.closePopupWelcome=function(){e.setState({popupWelcome:!1})},e.closePopupAlert=function(){e.setState({popupAlert:!1})},e.editor=o.a.createRef(),e.callStackPlayground=o.a.createRef(),e.webApiPlayground=o.a.createRef(),e.callbackQueuePlayground=o.a.createRef(),e.dropdownSpeed=o.a.createRef(),e.dropdownExample=o.a.createRef(),e.state={popupWelcome:!0,popupAlert:!1,value:"",unsortedCallStack:[],unsortedFunction:[],isCallStack:[],isFunction:[],isWebApi:[],isCallbackQueue:[],speed:"Fast",example:1,isSpeedOpen:!1,isExampleOpen:!1},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({value:'function three() {\n  console.log("three");\n\n  setTimeout(function () {\n    console.log("last");\n  }, 1000);\n}\n\nfunction two() {\n  console.log("two");\n  three();\n}\n\nfunction one() {\n  console.log("one");\n  two();\n}\n\none();'})}},{key:"render",value:function(){var e=this,n=this.state,t=n.popupWelcome,a=n.popupAlert,l=n.speed,r=n.example;return o.a.createElement("div",{className:"homepage"},t?o.a.createElement(g,{closePopup:this.closePopupWelcome}):null,a?o.a.createElement(E,{JSHINT:v.JSHINT,closePopup:this.closePopupAlert}):null,o.a.createElement("div",{className:"navbar"},o.a.createElement("div",{className:"left"},o.a.createElement("div",{className:"btn"},o.a.createElement("button",{className:"visualize",onClick:this.onClick},"Visualize")),o.a.createElement("div",{onClick:this.dropdownToggleSpeed,className:"nav secondary select speed"},"Speed: ",l,o.a.createElement("div",{ref:this.dropdownSpeed,className:"speed__dropdown dropdown"},o.a.createElement("ul",null,o.a.createElement("li",{onClick:this.speedVeryFast},"Very Fast"),o.a.createElement("li",{onClick:this.speedFast},"Fast"),o.a.createElement("li",{onClick:this.speedAverage},"Average"),o.a.createElement("li",{onClick:this.speedSlow},"Slow"),o.a.createElement("li",{onClick:this.verySlow},"Very Slow")))),o.a.createElement("div",{onClick:this.dropdownToggleExample,className:"nav secondary select example"},"Example: ",r,o.a.createElement("div",{ref:this.dropdownExample,className:"speed__dropdown dropdown"},o.a.createElement("ul",null,o.a.createElement("li",{onClick:this.example1},"Demo: 1"),o.a.createElement("li",{onClick:this.example2},"Demo: 2"),o.a.createElement("li",{onClick:this.example3},"Demo: 3")))),o.a.createElement("div",{onClick:this.clearPlayground,className:"nav secondary"},"Clear playground")),o.a.createElement("div",{className:"right"},o.a.createElement("a",{className:"nav title",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/kamronbekshodmonov/JELoop-Visualizer"},"JELoop Visualizer"))),o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"main__left"},o.a.createElement(p.Controlled,{ref:this.editor,className:"playground",value:this.state.value,options:{lineNumbers:!0,firstLineNumber:1,lineWrapping:!0,mode:"javascript",theme:"dracula",styleActiveLine:!0,autoCloseBrackets:!0,tabSize:2,gutters:["CodeMirror-linenumbers","CodeMirror-lint-markers"],lint:!0},onBeforeChange:function(n,t,a){e.setState({value:a}),t.origin&&e.clearState()},onChange:function(e,n,t){}})),o.a.createElement("div",{className:"main__right"},o.a.createElement("div",{className:"call-stack event"},o.a.createElement("div",{className:"event__title"},"Call Stack"),o.a.createElement("div",{className:"event__border"},o.a.createElement("div",{ref:this.callStackPlayground,className:"call-stack__content event__content"}))),o.a.createElement("div",{className:"web-api event"},o.a.createElement("div",{className:"event__title"},"Web Api"),o.a.createElement("div",{className:"event__border"},o.a.createElement("div",{ref:this.webApiPlayground,className:"web-api__content event__content"}))),o.a.createElement("div",{className:"callback-queue event"},o.a.createElement("div",{className:"event__title"},"Callback Queue"),o.a.createElement("div",{className:"event__border"},o.a.createElement("div",{ref:this.callbackQueuePlayground,className:"callback-queue__content event__content"}))))))}}]),t}(o.a.Component);var F=function(){return o.a.createElement("div",null,o.a.createElement(A,null))};r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(F,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.492d7b58.chunk.js.map